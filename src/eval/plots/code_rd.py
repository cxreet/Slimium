import matplotlib.pyplot as plt
import matplotlib.patches as mpatches

# Create some mock data
fig, ((ax1, ax2, ax3, ax4), (ax5, ax6, ax7, ax8)) = plt.subplots(2, 4, figsize=(30, 10))

x_data = [0.5, 0.6, 0.7, 0.8, 0.9]

ax1.set_xlabel('Code Coverage Threshold: 10%')
ax1.set_ylabel('(MB)')
ax1.plot(x_data, [9.25, 9.25, 9.25, 9.25, 9.25], "r", label="baseline", linewidth=2.0)
ax1.plot(x_data, [9.28, 9.27, 8.63, 8.57, 8.47], "g", label="0.5", linewidth=2.0)
ax1.plot(x_data, [9.27, 12.53, 12.35, 12.1, 11.77], "b", label="0.6", linewidth=2.0)
ax1.plot(x_data, [12.38, 12.11, 11.91, 11.69, 11.22], "c", label="0.7", linewidth=2.0)
ax1.plot(x_data, [11.71, 11.6, 11.44, 11.24, 10.9], "m", label="0.8", linewidth=2.0)
ax1.plot(x_data, [11.47, 11.37, 11.21, 11.03, 10.71], "y", label="0.9", linewidth=2.0)
ax1.grid(True)
ax1.set_ylim(ymin=5)
ax1.set_xlim(xmax=0.9)
ax1.legend(ncol=2, loc='lower right', prop={'size': 18})

ax2.set_xlabel('Code Coverage Threshold: 15%')
#ax2.set_ylabel('(MB)')
ax2.plot(x_data, [10.97, 10.97, 10.97, 10.97, 10.97], "r", label="baseline", linewidth=2.0)
ax2.plot(x_data, [12.2, 15.32, 14.49, 14.32, 14.18], "g", label="0.5", linewidth=2.0)
ax2.plot(x_data, [11.95, 14.68, 14.5, 14.25, 13.92], "b", label="0.6", linewidth=2.0)
ax2.plot(x_data, [14.86, 18.73, 18.56, 18.31, 17.82], "c", label="0.7", linewidth=2.0)
ax2.plot(x_data, [13.77, 18.31, 18.13, 17.87, 17.55], "m", label="0.8", linewidth=2.0)
ax2.plot(x_data, [13.4, 18.05, 17.87, 17.63, 17.31], "y", label="0.9", linewidth=2.0)
ax2.grid(True)
ax2.set_ylim(ymin=5)
ax2.set_xlim(xmax=0.9)
#ax2.yaxis.set_label_position("right")
#ax2.yaxis.tick_right()
ax2.legend(ncol=2, loc='lower right', prop={'size': 18})

ax3.set_xlabel('Code Coverage Threshold: 20%')
#ax3.set_ylabel('(MB)')
ax3.plot(x_data, [18.79, 18.79, 18.79, 18.79, 18.79], "r", label="baseline", linewidth=2.0)
ax3.plot(x_data, [22.95, 26.58, 25.89, 25.6, 25.32], "g", label="0.5", linewidth=2.0)
ax3.plot(x_data, [24.56, 24.16, 23.77, 23.69, 23.23], "b", label="0.6", linewidth=2.0)
ax3.plot(x_data, [23.43, 23.07, 22.8, 22.52, 22.02], "c", label="0.7", linewidth=2.0)
ax3.plot(x_data, [22.71, 22.54, 22.28, 22.02, 21.67], "m", label="0.8", linewidth=2.0)
ax3.plot(x_data, [22.4, 22.24, 22.01, 21.76, 21.42], "y", label="0.9", linewidth=2.0)
ax3.grid(True)
ax3.set_ylim(ymin=5)
ax3.set_xlim(xmax=0.9)
ax3.legend(ncol=2, loc='lower right', prop={'size': 20})

ax4.set_xlabel('Code Coverage Threshold: 25%')
#ax4.set_ylabel('(MB)')
ax4.plot(x_data, [19.21, 19.21, 19.21, 19.21, 19.21], "r", label="baseline", linewidth=2.0)
ax4.plot(x_data, [29.4, 29.01, 28.37, 26.34, 25.9], "g", label="0.5", linewidth=2.0)
ax4.plot(x_data, [25.93, 25.62, 25.29, 24.44, 23.82], "b", label="0.6", linewidth=2.0)
ax4.plot(x_data, [24.75, 24.48, 24.29, 23.25, 22.58], "c", label="0.7", linewidth=2.0)
ax4.plot(x_data, [23.99, 23.97, 23.79, 22.76, 22.22], "m", label="0.8", linewidth=2.0)
ax4.plot(x_data, [23.75, 23.72, 23.4, 22.38, 21.88], "y", label="0.9", linewidth=2.0)
ax4.grid(True)
ax4.set_ylim(ymin=5)
ax4.set_xlim(xmax=0.9)
#ax4.yaxis.set_label_position("right")
#ax4.yaxis.tick_right()
ax4.legend(ncol=2, loc='lower right', prop={'size': 20})

ax5.set_xlabel('Code Coverage Threshold: 30%')
ax5.set_ylabel('(MB)')
ax5.plot(x_data, [19.81, 19.81, 19.81, 19.81, 19.81], "r", label="baseline", linewidth=2.0)
ax5.plot(x_data, [30.06, 29.59, 29.5, 27.44, 27.16], "g", label="0.5", linewidth=2.0)
ax5.plot(x_data, [26.7, 26.35, 26, 25.15, 24.69], "b", label="0.6", linewidth=2.0)
ax5.plot(x_data, [25.52, 25.15, 24.94, 23.9, 23.39], "c", label="0.7", linewidth=2.0)
ax5.plot(x_data, [24.8, 24.68, 24.36, 23.33, 22.95], "m", label="0.8", linewidth=2.0)
ax5.plot(x_data, [24.48, 24.35, 24.04, 23.03, 22.66], "y", label="0.9", linewidth=2.0)
ax5.grid(True)
ax5.set_ylim(ymin=5)
ax5.set_xlim(xmax=0.9)
ax5.legend(ncol=2, loc='lower right', prop={'size': 20})

ax6.set_xlabel('Code Coverage Threshold: 35%')
#ax6.set_ylabel('(MB)')
ax6.plot(x_data, [20.37, 20.37, 20.37, 20.37, 20.37], "r", label="baseline", linewidth=2.0)
ax6.plot(x_data, [31.18, 30.67, 30.33, 28.38, 28.1], "g", label="0.5", linewidth=2.0)
ax6.plot(x_data, [27.53, 26.8, 26.3, 25.42, 24.96], "b", label="0.6", linewidth=2.0)
ax6.plot(x_data, [25.97, 25.66, 25.31, 24.23, 23.72], "c", label="0.7", linewidth=2.0)
ax6.plot(x_data, [25.19, 25.03, 24.71, 23.64, 23.26], "m", label="0.8", linewidth=2.0)
ax6.plot(x_data, [24.87, 24.7, 24.39, 23.33, 22.97], "y", label="0.9", linewidth=2.0)
ax6.grid(True)
ax6.set_ylim(ymin=5)
ax6.set_xlim(xmax=0.9)
#ax6.yaxis.set_label_position("right")
#ax6.yaxis.tick_right()
ax6.legend(ncol=2, loc='lower right', prop={'size': 20})

ax7.set_xlabel('Code Coverage Threshold: 40%')
#ax7.set_ylabel('(MB)')
ax7.plot(x_data, [20.49, 20.49, 20.49, 20.49, 20.49], "r", label="baseline", linewidth=2.0)
ax7.plot(x_data, [31.4, 30.89, 30.54, 29.49, 29.21], "g", label="0.5", linewidth=2.0)
ax7.plot(x_data, [28.92, 28.47, 27.08, 26.18, 25.74], "b", label="0.6", linewidth=2.0)
ax7.plot(x_data, [27.26, 26.9, 25.57, 24.48, 23.97], "c", label="0.7", linewidth=2.0)
ax7.plot(x_data, [25.43, 25.26, 24.94, 23.86, 23.48], "m", label="0.8", linewidth=2.0)
ax7.plot(x_data, [24.99, 24.82, 24.51, 23.45, 23.09], "y", label="0.9", linewidth=2.0)
ax7.grid(True)
ax7.set_ylim(ymin=5)
ax7.set_xlim(xmax=0.9)
ax7.legend(ncol=2, loc='lower right', prop={'size': 20})

ax8.set_xlabel('Code Coverage Threshold: 45%')
#ax8.set_ylabel('(MB)')
ax8.plot(x_data, [21.56, 21.56, 21.56, 21.56, 21.56], "r", label="baseline", linewidth=2.0)
ax8.plot(x_data, [31.7, 31.42, 31.19, 30.13, 29.85], "g", label="0.5", linewidth=2.0)
ax8.plot(x_data, [29.24, 28.92, 28.58, 27.93, 27.49], "b", label="0.6", linewidth=2.0)
ax8.plot(x_data, [27.74, 27.51, 27.31, 26.46, 25.98], "c", label="0.7", linewidth=2.0)
ax8.plot(x_data, [25.84, 25.8, 25.71, 24.64, 24.28], "m", label="0.8", linewidth=2.0)
ax8.plot(x_data, [25.4, 25.36, 25.28, 24.23, 23.89], "y", label="0.9", linewidth=2.0)
ax8.grid(True)
ax8.set_ylim(ymin=5)
ax8.set_xlim(xmax=0.9)
#ax8.yaxis.set_label_position("right")
#ax8.yaxis.tick_right()
ax8.legend(ncol=2, loc='lower right', prop={'size': 20})

plt.rcParams.update({'font.size': 20})
plt.subplots_adjust(top=0.92, bottom=0.10, left=0.03, right=0.99, hspace=0.3,
                    wspace=0.1)

plt.savefig("code-rd.pdf", dpi=150)
#plt.show()
